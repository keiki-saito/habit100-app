# 100日チャレンジ習慣トラッカー - 要件定義

## 1. プロジェクト概要

### 1.1 目的
ユーザーが100日間継続して習慣を記録・追跡できるWebアプリケーションを提供する。

### 1.2 対象ユーザー
- 習慣形成を目指す個人ユーザー
- シングルユーザー環境（ログイン不要）

## 2. 機能要件

### 2.1 習慣管理機能
- **習慣の登録**
  - 習慣名の入力（例: 「筋トレ」「読書」「瞑想」）
  - 習慣の色設定（視覚的な識別用）
  - 開始日の設定

- **習慣の編集**
  - 習慣名の変更
  - 色の変更

- **習慣の削除**
  - 習慣とその記録データの完全削除
  - 削除前の確認ダイアログ表示

### 2.2 日々の記録機能
- **チェック機能**
  - 各日付に対して習慣を「達成」または「未達成」で記録
  - チェック状態の切り替え（達成⇔未達成⇔未記録）
  - 当日だけでなく過去の日付も遡って記録可能

- **記録の可視化**
  - 100日間のカレンダー形式での表示
  - 達成日は色付き表示
  - 未達成日はグレーまたは空白表示
  - 現在日のハイライト表示

### 2.3 進捗表示機能
- **基本統計情報**
  - 現在の達成日数 / 100日
  - 達成率（パーセンテージ）
  - 現在の連続達成日数
  - 最長連続達成日数

- **視覚的フィードバック**
  - プログレスバーでの全体進捗表示
  - 100日達成時の完了表示・メッセージ

### 2.4 複数習慣対応
- 同時に複数の習慣を追跡可能
- 各習慣ごとに独立した100日カウント
- 習慣リストでの一覧表示

## 3. 非機能要件

### 3.1 データ永続化
- **データベース**: SQLite
- **保存データ**:
  - 習慣情報（ID, 名前, 色, 開始日, 作成日）
  - 記録データ（習慣ID, 日付, 達成状態）
- **データ保持**: ブラウザ再読み込み後もデータが保持される

### 3.2 パフォーマンス
- ページ読み込み時間: 2秒以内
- チェック操作のレスポンス: 即座（100ms以内）
- 100日分のデータ表示が滑らかに動作

### 3.3 ユーザビリティ
- **直感的な操作**:
  - クリック/タップでチェック切り替え
  - ドラッグ不要のシンプルなUI

- **視認性**:
  - 達成状況が一目で分かるデザイン
  - カラーコントラストの確保（アクセシビリティ考慮）

### 3.4 レスポンシブデザイン
- デスクトップ（1024px以上）での快適な操作
- タブレット（768px〜1023px）対応
- スマートフォン（375px〜767px）対応

## 4. 技術要件

### 4.1 フロントエンド
- **フレームワーク**: Next.js 15.5.4（App Router）
- **UIライブラリ**: React 19.1.0
- **言語**: TypeScript 5.x
- **スタイリング**: Tailwind CSS v4

### 4.2 バックエンド
- **データベース**: SQLite
- **ORM/クエリビルダー**: 適切なライブラリを選定（better-sqlite3等）
- **API**: Next.js API Routes（App Router形式）

### 4.3 開発環境
- **ビルドシステム**: Turbopack
- **リンター/フォーマッター**: Biome 2.2.0
- **テスト**: Vitest 3.2.4 + Testing Library
- **Git Hooks**: Lefthook 1.13.6

## 5. UI/UX要件

### 5.1 デザインコンセプト
- **モダンでミニマルなデザイン**
- **クリーンなレイアウト**
- **適度な余白と視覚的階層**

### 5.2 カラースキーム
- ライトモード対応（必須）
- ダークモード対応（オプション、時間があれば）
- アクセント色の効果的な使用

### 5.3 主要画面構成
1. **ホーム画面（習慣一覧）**
   - 登録済み習慣のカード表示
   - 各習慣の進捗サマリー
   - 新規習慣追加ボタン

2. **習慣詳細画面**
   - 100日カレンダービュー
   - 統計情報の表示
   - 編集・削除ボタン

3. **習慣登録/編集モーダル/画面**
   - フォーム入力UI
   - カラーピッカー

## 6. データモデル（概要）

### 6.1 Habits テーブル
```
- id: INTEGER PRIMARY KEY
- name: TEXT NOT NULL
- color: TEXT NOT NULL
- start_date: TEXT NOT NULL (ISO 8601形式)
- created_at: TEXT NOT NULL
```

### 6.2 HabitRecords テーブル
```
- id: INTEGER PRIMARY KEY
- habit_id: INTEGER NOT NULL (外部キー)
- date: TEXT NOT NULL (ISO 8601形式)
- completed: INTEGER NOT NULL (0 or 1)
- created_at: TEXT NOT NULL
- UNIQUE(habit_id, date)
```

## 7. 制約事項

### 7.1 スコープ外
- ユーザー認証・ログイン機能
- マルチユーザー対応
- データのクラウド同期
- 通知機能（リマインダー）
- SNSシェア機能
- データエクスポート機能

### 7.2 将来的な拡張可能性
- 上記スコープ外機能の追加
- より詳細な統計分析（週次/月次レポート等）
- 習慣のカテゴリ分類

## 8. 成功基準

1. ✅ 習慣の登録・編集・削除が正常に動作する
2. ✅ 100日分の記録が正確に保存・表示される
3. ✅ ページリロード後もデータが保持される
4. ✅ レスポンシブデザインが各デバイスで適切に表示される
5. ✅ 統計情報が正確に計算・表示される
6. ✅ モダンで使いやすいUIが実現されている
